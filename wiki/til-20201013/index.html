<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Atobaum Wiki</title><link rel=stylesheet href=https://atobaum.github.io/css/index.css><link rel=stylesheet href=https://atobaum.github.io/css/reset.css><link rel=apple-touch-icon sizes=180x180 href=https://atobaum.github.io/fav/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://atobaum.github.io/fav/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://atobaum.github.io/fav/favicon-16x16.png><link rel=manifest href=https://atobaum.github.io/fav/site.webmanifest><script async src="https://www.googletagmanager.com/gtag/js?id=UA-177439615-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-177439615-1');</script></head><body><div id=wrap><header id=gheader><div class="flex flex-jsb"><div id=logo><a href=https://atobaum.github.io>Atobaum Wiki</a></div><nav class=right0><ul id=gnb><li><a href=/about>about</a></li><li><a href=/>all</a></li><li><a href=/random>random</a></li><li><a href=/tags>tags</a></li></ul></nav></div><div id=search class=flex-end>searchbar</div></header><div id=main><h1 class=content-title>TIL-20201013</h1><h3 class=content-summary>jest에서 keyPress 테스트가 잘 안될 때</h3><div><div><ul class=tag-list><li class=tag><a href=https://atobaum.github.io/tags/til>#TIL</a></li></ul></div><div class=content-meta><ul><li>작성: 2020-10-14<li></li>수정: 2020-10-14</li></ul>1 분 걸려요.</div><div><aside id=toc-wrapper><nav id=TableOfContents></nav></aside><article class=content-article><p>jest로 react test를 하려고 할 때 jest.keyPress() 가 잘 안될 수 있다. 이때 keyPress event에 charCode를 설정해 보자</p><div class=highlight><pre style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#859900>const</span> <span style=color:#268bd2>input</span> = <span style=color:#268bd2>getByTestId</span>(<span style=color:#268bd2>container</span>, <span style=color:#2aa198>&#34;input&#34;</span>);
<span style=color:#268bd2>fireEvent</span>.<span style=color:#268bd2>keyPress</span>(<span style=color:#268bd2>input</span>, { <span style=color:#268bd2>key</span>: <span style=color:#2aa198>&#34;Enter&#34;</span>, <span style=color:#268bd2>code</span>: <span style=color:#2aa198;font-weight:700>13</span>, <span style=color:#268bd2>charCode</span>: <span style=color:#2aa198;font-weight:700>13</span> });
<span style=color:#268bd2>expect</span>(<span style=color:#268bd2>doSomething</span>.<span style=color:#268bd2>mock</span>.<span style=color:#268bd2>calls</span>.<span style=color:#268bd2>length</span>).<span style=color:#268bd2>toBe</span>(<span style=color:#2aa198;font-weight:700>1</span>);
</code></pre></div><p><a href=https://github.com/testing-library/react-testing-library/issues/269>참고</a></p></article></div></div></body></html>