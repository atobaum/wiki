<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Atobaum Wiki</title><link rel=stylesheet href=https://atobaum.github.io/css/index.css><link rel=stylesheet href=https://atobaum.github.io/css/reset.css><link rel=apple-touch-icon sizes=180x180 href=https://atobaum.github.io/fav/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://atobaum.github.io/fav/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://atobaum.github.io/fav/favicon-16x16.png><link rel=manifest href=https://atobaum.github.io/fav/site.webmanifest></head><body><div id=wrap><header id=gheader><div class="flex flex-jsb"><div id=logo><a href=https://atobaum.github.io>Atobaum Wiki</a></div><nav class=right0><ul id=gnb><li><a href=/about>about</a></li><li><a href=/>all</a></li><li><a href=/random>random</a></li><li><a href=/tags>tags</a></li></ul></nav></div><div id=search class=flex-end>searchbar</div></header><div id=main><h1>Javascript에서 이벤트를 만들어보자.</h1><h3 class=content-summary>Let&rsquo;s create and emit custom event in javascript</h3><div><div><ul class=tag-list><li class=tag><a href=https://atobaum.github.io/tags/javascript>#Javascript</a></li><li class=tag><a href=https://atobaum.github.io/tags/event>#Event</a></li></ul></div><div class=content-meta><ul><li>작성: 2020-07-22<li></li>수정: 2020-07-22</li></ul>1 분 걸려요.</div><div><article class=content-article><h1 id=개요>개요</h1><p>자바스크립트는 이벤트를 많이 이용한다. 이 글에서는 커스텀 이벤트를 만들어보고 이를 이용해 삶을 편하게 만들어보자.</p><h1 id=이벤트-만들기>이벤트 만들기</h1><div class=highlight><pre style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#859900>const</span> <span style=color:#268bd2>event</span> = <span style=color:#859900>new</span> <span style=color:#268bd2>Event</span>(<span style=color:#2aa198>&#34;testevent1&#34;</span>, { <span style=color:#268bd2>bubbles</span>: <span style=color:#859900;font-weight:700>true</span> });
</code></pre></div><p>두번째 인자는 생략할 수 있다. 참고: <a href=https://developer.mozilla.org/ko/docs/Web/API/Event/Event>MDN Event()</a>
기본값은 bubbling이 안된다.</p><h1 id=이벤트-발생시키기>이벤트 발생시키기</h1><div class=highlight><pre style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#cb4b16>document</span>.<span style=color:#268bd2>body</span>.<span style=color:#268bd2>dispatchEvent</span>(<span style=color:#268bd2>event</span>);
<span style=color:#cb4b16>document</span>.<span style=color:#268bd2>body</span>.<span style=color:#268bd2>addEventListener</span>(<span style=color:#2aa198>&#34;testevent1&#34;</span> (<span style=color:#268bd2>evt</span>)=&gt;{<span style=color:#268bd2>alert</span>(<span style=color:#2aa198>&#34;testevent1이 발생되었어요.&#34;</span>)})
</code></pre></div><h1 id=이벤트에-추가-정보-담아서-보내기>이벤트에 추가 정보 담아서 보내기</h1><p>이벤트에 사용자가 추가 정보를 담아서 만들수도 있다. 자세한 내용은 <a href=https://developer.mozilla.org/ko/docs/Web/API/CustomEvent/CustomEvent>MDN CustomEvent()</a>을 참고하자.</p><div class=highlight><pre style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#859900>const</span> <span style=color:#268bd2>customEvent</span> = <span style=color:#859900>new</span> <span style=color:#268bd2>CustomEvent</span>(<span style=color:#2aa198>&#34;customevent&#34;</span>, {
  <span style=color:#268bd2>bubbles</span>: <span style=color:#859900;font-weight:700>true</span>,
  <span style=color:#268bd2>detail</span>: { <span style=color:#268bd2>id</span>: <span style=color:#2aa198;font-weight:700>1</span> },
});
</code></pre></div><p>이제 커스텀 이벤트에 있는 데이터를 얻을 수 있다.</p><div class=highlight><pre style=color:#586e75;background-color:#eee8d5;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=color:#cb4b16>document</span>.<span style=color:#268bd2>body</span>.<span style=color:#268bd2>dispatchEvent</span>(<span style=color:#268bd2>customEvent</span>);
<span style=color:#cb4b16>document</span>.<span style=color:#268bd2>body</span>.<span style=color:#268bd2>addEventListener</span>(<span style=color:#2aa198>&#34;customevent&#34;</span>, (<span style=color:#268bd2>evt</span>) =&gt; {
  <span style=color:#268bd2>alert</span>(<span style=color:#268bd2>evt</span>.<span style=color:#268bd2>detail</span>.<span style=color:#268bd2>id</span>); <span style=color:#93a1a1;font-style:italic>//1
</span><span style=color:#93a1a1;font-style:italic></span>});
</code></pre></div></article></div></div></body></html>